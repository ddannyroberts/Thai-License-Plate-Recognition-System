# üì± DroidCam Integration Guide

## ‚úÖ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß

‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö **DroidCam IP Camera** ‡πÅ‡∏•‡πâ‡∏ß! ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô DroidCam ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ WebRTC ‡πÑ‡∏î‡πâ

---

## üéØ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡∏°‡πà

### 1. **Camera Source Selection**
- ‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **WebRTC** (‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á) ‡∏´‡∏£‡∏∑‡∏≠ **DroidCam** (IP Camera)
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ IP Address ‡πÅ‡∏•‡∏∞ Port ‡∏Ç‡∏≠‡∏á DroidCam ‡πÑ‡∏î‡πâ

### 2. **DroidCam Support**
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö MJPEG stream ‡∏à‡∏≤‡∏Å DroidCam
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á preview ‡πÅ‡∏ö‡∏ö real-time
- ‚úÖ Auto-detect ‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏ä‡πà‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö WebRTC)

### 3. **Backend Enhancement**
- ‚úÖ Backend ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô MJPEG stream ‡∏î‡πâ‡∏ß‡∏¢ `cv2.VideoCapture()`
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á regular image URL ‡πÅ‡∏•‡∏∞ MJPEG stream

---

## üìã ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î DroidCam ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠**

1. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î **DroidCam** ‡∏à‡∏≤‡∏Å:
   - Android: [Google Play Store](https://play.google.com/store/apps/details?id=com.dev47apps.droidcam)
   - iOS: [App Store](https://apps.apple.com/app/droidcam-wireless-webcam/id1510258102)

2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ DroidCam ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î **WiFi IP**
4. ‡∏î‡∏π IP Address ‡πÅ‡∏•‡∏∞ Port ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡πÅ‡∏≠‡∏õ
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `192.168.100.143:4747`

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Web UI**

1. ‡πÄ‡∏õ‡∏¥‡∏î Web UI: `http://localhost:8000`
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ó‡πá‡∏ö **Upload**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Live Camera**
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **DroidCam (IP Camera)**
5. ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **IP Address**: `192.168.100.143` (‡∏´‡∏£‡∏∑‡∏≠ IP ‡∏Ç‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì)
   - **Port**: `4747` (‡∏´‡∏£‡∏∑‡∏≠ port ‡∏ó‡∏µ‡πà DroidCam ‡πÅ‡∏™‡∏î‡∏á)
6. ‡∏Ñ‡∏•‡∏¥‡∏Å **üì∑ Open Camera**

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**

- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö DroidCam ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á preview
- Auto-detect ‡∏õ‡πâ‡∏≤‡∏¢‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô "Recent Detections"

---

## üîß Configuration

### **Default Settings**
- IP: `192.168.100.143`
- Port: `4747`
- MJPEG URL: `http://192.168.100.143:4747/mjpegfeed`

### **DroidCam URLs ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö**

1. **MJPEG Stream** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):
   ```
   http://IP:PORT/mjpegfeed
   ```
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `http://192.168.100.143:4747/mjpegfeed`

2. **Video Feed**:
   ```
   http://IP:PORT/video
   ```

---

## üõ†Ô∏è Technical Details

### **Frontend Changes**

**File: `static/index.html`**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Camera Source Selector (radio buttons)
- ‡πÄ‡∏û‡∏¥‡πà‡∏° DroidCam Settings form (IP, Port input fields)

**File: `static/js/app.js`**
- `startCamera()` - ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô `startWebRTCCamera()` ‡πÅ‡∏•‡∏∞ `startDroidcam()`
- `captureAndProcess()` - ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô `processWebRTCFrame()` ‡πÅ‡∏•‡∏∞ `processDroidcamFrame()`
- `processDroidcamFrame()` - ‡∏™‡πà‡∏á MJPEG URL ‡πÑ‡∏õ backend ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£ capture frame

### **Backend Changes**

**File: `api/main.py`**
- `/detect` endpoint ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö MJPEG stream
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ URL ‡πÄ‡∏õ‡πá‡∏ô MJPEG stream (`mjpegfeed` ‡∏´‡∏£‡∏∑‡∏≠ `mjpeg` ‡πÉ‡∏ô URL)
- ‡πÉ‡∏ä‡πâ `cv2.VideoCapture()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô frame ‡∏à‡∏≤‡∏Å MJPEG stream
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö timeout ‡πÅ‡∏•‡∏∞ error handling

---

## üêõ Troubleshooting

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 1: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ DroidCam ‡πÑ‡∏î‡πâ**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- IP Address ‡∏´‡∏£‡∏∑‡∏≠ Port ‡∏ú‡∏¥‡∏î
- ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô WiFi network ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
- Firewall ‡∏ö‡∏•‡πá‡∏≠‡∏Å

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö IP ‡πÅ‡∏•‡∏∞ Port ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ DroidCam
2. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô WiFi ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
3. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏¥‡∏î URL ‡πÉ‡∏ô browser: `http://192.168.100.143:4747/mjpegfeed`
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 2: Backend ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô frame ‡πÑ‡∏î‡πâ**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- MJPEG stream ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°
- Network latency ‡∏™‡∏π‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ DroidCam ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
2. ‚úÖ ‡∏•‡∏≠‡∏á‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÅ‡∏≠‡∏õ DroidCam
3. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network connection

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 3: Preview ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà detect**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- Backend ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô frame ‡∏à‡∏≤‡∏Å stream ‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console logs ‡πÉ‡∏ô browser (F12)
2. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend logs
3. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ WebRTC camera ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥

---

## üìù Code Examples

### **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô DroidCam URL**

```javascript
// Frontend
const droidcamURL = "http://192.168.100.143:4747/mjpegfeed";

const formData = new FormData();
formData.append('image_url', droidcamURL);

fetch('/detect', {
    method: 'POST',
    body: formData
});
```

```python
# Backend
import cv2

# Read frame from MJPEG stream
cap = cv2.VideoCapture("http://192.168.100.143:4747/mjpegfeed")
ret, frame = cap.read()
cap.release()
```

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
- ‚úÖ **WebRTC Camera** (‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á)
- ‚úÖ **DroidCam IP Camera** (‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô WiFi)

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏•‡∏±‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£!

---

## üìû Support

‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö [Troubleshooting](#-troubleshooting) section
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console logs
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend logs

---

**Happy Coding! üöÄ**

